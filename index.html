<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3 Test</title>
        <style>
            .graticule {
                fill: none;
                stroke: #777;
                stroke-width: .5px;
                stroke-opacity: .5;
            }
            .land {
                fill: #222;
            }

            .boundary {
                fill: none;
                stroke: #fff;
                stroke-width: 0.5px;
            }
        </style>
        <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
        <script src="http://d3js.org/topojson.v1.min.js"></script>
        </head>
        <body>
            <script type="text/javascript">
                var width = 960,
                    height = 480;

                var projection = d3.geo.albers()
                    .scale(1000)
                    .translate([width / 2, height / 2])
                    .precision(0.1);
                var path = d3.geo.path()
                    .projection(projection);
                var graticule = d3.geo.graticule()

                var svg = d3.select("body").append("svg")
                    .attr("width", width)
                    .attr("height", height);
                svg.append("path")
                    .datum(graticule)
                    .attr("class", "graticule")
                    .attr("d", path);
                d3.csv("data.csv", function(error, world) {
                    svg.insert("path", ".graticule")
                        .datum(topojson.feature(world, world.objects.land))
                        .attr("class", "land")
                        .attr("d", path);
                    svg.insert("path", ".graticule")
                        .datum(topojson.mesh(world, world.objects.countries, function(a, b) { return a !== b; }))
                        .attr("class", "boundary")
                        .attr("d", path);
                    });
                d3.select(self.frameElement).style("height", height + "px");
            </script>
            Oh, hello.
        </body>
</html>
